{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/an-introduction-to-generators/","webpackCompilationHash":"d3540fcf6852014d7a9f","result":{"data":{"markdownRemark":{"html":"<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d913b2c6a98c634053bf74e5e931d9bf/b0c45/an-introduction-to-generators.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 38.048780487804876%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACNklEQVQozw3Sz09SAQDAcc5tXbt16OCyZTp4Pp4gP0T58XgPHjwfIIiAiGJiaoIsf2MqRlNWYzabutRWNldbl+rQn+ChrUtdOnTrz/jGP/DZ9/A1KbKdAbcV74DEQszMetZMOdPLalYg6LdiaBIej0glbWFEEciELWiKhK70MRfuxgiJyEEbstyPV3ZgkmUbLq+TqZiTVr6LhdwQuZjEk6RENOAgqNqJJ4KkQgIjYZHIsNIGXCgBiXTISj7lZi7di9pGXf42qPps1Dcm+fzplFZ1hMv9Kq3Xh+zUa+zv1Tho7vLx8phGo05jq8zpYZ2To33OjuqUHyW4OG3SWBsn6DMT1eyYknE3Gw8VzkujXBe7+V3u5PuKl6uKhdaMnWIhyU7F4NlyhoQRYKxdu1iKsbm2QLUQYOexxnQ+SCTch191YTrRHlAzLKyHuvmy6OXveYqfxzn+vJvhx0mGi+Yyr5obHL9cZv/5FrvbVYqZEDtrJZYmXcTVHoKyhDY8RCQ2hOmt3sG/wk2ejgpsz/t4s6oyXUxRW8rzdX6Q60WJldIEqYk05bksuaxBxvBTKQxi6E7UkB2v14bT3Y9HdmOaGXVyNXqH5dB9ZvVeNFkkrUtMqAIforf5lb3BdqST4UGBgE/A4TCT0swofgF5UGRcE2kkulmPt0u1NqgbHg5G7vFNv8X7ZBcvMhJrORuFtAefW2QvepclrYezaAezSRt62Ibik9qrSYzrIpt5ic0xK1dTnRzMCPwHeyJOYmEzYqoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"An Introduction to Generators Cover\"\n        title=\"\"\n        src=\"/static/d913b2c6a98c634053bf74e5e931d9bf/b9e4f/an-introduction-to-generators.png\"\n        srcset=\"/static/d913b2c6a98c634053bf74e5e931d9bf/cf440/an-introduction-to-generators.png 148w,\n/static/d913b2c6a98c634053bf74e5e931d9bf/d2d38/an-introduction-to-generators.png 295w,\n/static/d913b2c6a98c634053bf74e5e931d9bf/b9e4f/an-introduction-to-generators.png 590w,\n/static/d913b2c6a98c634053bf74e5e931d9bf/b0c45/an-introduction-to-generators.png 820w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Generators are function that are introduced in ES6 and have ability to pause and play i.e you can return multiple values from the different context of the execution of the function.\nYou can pause them where ever you want maybe in the middle of the express. They have this super cool ability on execution. </p>\n<h2>Let's write a Generator</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token operator\">*</span><span class=\"token function\">generator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> it <span class=\"token operator\">=</span> <span class=\"token function\">generator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>So, when a <code class=\"language-text\">generator</code> is called is good to store that a variable. Wait!! Oh crap it looks me different from a normal function. üßê <br/>\nYes, you can say that it's different.</p>\n<h2>Hmm ü§î, But how is it works?</h2>\n<p>So, how we find the a function starts execution ü§®? From the line where we called the function and when a normal function starts execution it's going be executed till the end of the function or where function finds the <code class=\"language-text\">return</code> statement. Unlike normal function return <code class=\"language-text\">undefined</code> when nothing returned from a that function.</p>\n<p>Instead when we called generator function i.e <code class=\"language-text\">const it = generator();</code>. So, it returns an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator\"><code class=\"language-text\">iterator</code></a>. <br>\nI assume that you already have knowledge about iterator if not checkout this <a href=\"http://javascript.info/iterable\">link</a>.</p>\n<p>Now, <code class=\"language-text\">it</code> contains that <code class=\"language-text\">iterator</code> and iterator have a method called <code class=\"language-text\">next</code> that calls and return an object like this <code class=\"language-text\">{ value: something, done: false }</code>.<br/>\nHere, <code class=\"language-text\">value</code> is the current value that returned from the function and <code class=\"language-text\">done</code> is the boolean value that show if the execution of the function got finished or not. And in case of generator the value after <code class=\"language-text\">yield</code> becomes the <code class=\"language-text\">value</code> of the object when <code class=\"language-text\">next</code> method called. So, further it's going to be executed like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">it<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// { value: 1, done: false };</span>\n\n<span class=\"token comment\">// If called it again then</span>\nit<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// { value: 2, done: false };</span>\n\n<span class=\"token comment\">// Once More</span>\nit<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// { value: 3, done: false };</span>\n\n<span class=\"token comment\">// Let's try one more time</span>\nit<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// { value: undefined, done: true };</span></code></pre></div>\n<p>At last, when the generator execution finished it returns <code class=\"language-text\">value</code> of <code class=\"language-text\">undefined</code> because there's no value to be returned. </p>\n<h3>What happens If we put return statement in the middle of the generator function?</h3>\n<p>So, for this let's take an example:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token operator\">*</span><span class=\"token function\">generator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> it <span class=\"token operator\">=</span> <span class=\"token function\">generator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>If we consider this example then as we know if we called <code class=\"language-text\">it.next()</code> it will return an object. Let's first see the execution of this piece of code.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">it<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// {value : 1, done: false}</span>\n\n<span class=\"token comment\">// Let's call this one more time</span>\nit<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// { value: 2  done: true}</span></code></pre></div>\n<p>because it when <code class=\"language-text\">return</code> statement executed then function returns <code class=\"language-text\">2</code> and we know that if function finds the <code class=\"language-text\">return</code> statement then that means the execution of the function got completed. <br>\nWhoo!! üò§I think it starts to make sense. üòÅ</p>\n<p><em>At the end, <code class=\"language-text\">yield</code> is statement where a generator pauses and when we call <code class=\"language-text\">next()</code> it resumes from that previous point where generator got paused. That means multiple <code class=\"language-text\">yield</code> for pausing generator multiple times</em>.</p>\n<h2>Generator are Iterators. How?</h2>\n<p>We know that <code class=\"language-text\">for..of</code> loop basically build for iterators so that means every data structure that is iterable we can use for of loop on that. So, let's take an example from first piece of code.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token operator\">*</span><span class=\"token function\">generator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> it <span class=\"token operator\">=</span> <span class=\"token function\">generator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We can run a <code class=\"language-text\">for..of</code> to this because it's an iterator. Let's try that.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> value <span class=\"token keyword\">of</span> it<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now, in this case it'll return us the value after the yield. In this case <code class=\"language-text\">for...of</code> loop is calling the <code class=\"language-text\">next()</code> method internally and returns the value from this object i.e <br>\n<code class=\"language-text\">{value: &#39;&#39;, done: boolean}</code> until the <code class=\"language-text\">done</code> property is going to be <code class=\"language-text\">true</code>. </p>\n<p>If we can use  a <code class=\"language-text\">for..of</code> that we can also use spread operator also <code class=\"language-text\">...</code> for storing the value from it. Let's checkout this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> values <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>it<span class=\"token punctuation\">]</span></code></pre></div>\n<p><strong>REMEMBER THAT: A GENERATOR CAN'T BE ROLL BACK FOR THAT YOU NEED TO MAKE A NEW INSTANCE AGAIN. DON'T HAVE AN IDEA WHAT I MEANT, DONT'T WORRY. LET'S CHECKOUT BY AN EXAMPLE ü§ü.</strong> </p>\n<p>So, suppose you wanna run  like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">it<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nit<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nit<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>it<span class=\"token punctuation\">]</span> <span class=\"token operator\">?</span><span class=\"token operator\">?</span></code></pre></div>\n<p>Will be an empty array because you already <code class=\"language-text\">it</code> already executed. Now, that means if you wanna run this again you need to create a new instance i.e <code class=\"language-text\">const it2 = generator()</code>.</p>\n<h2>Generator Composition</h2>\n<p>That means you can compose one or more generator's in a single generators. Let's take an example:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token operator\">*</span><span class=\"token function\">getNumbers</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">start<span class=\"token punctuation\">,</span> end</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> start<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> end<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">yield</span> i<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token operator\">*</span><span class=\"token function\">getAllNumbers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span><span class=\"token operator\">*</span> <span class=\"token function\">getNumbers</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">yield</span><span class=\"token operator\">*</span> <span class=\"token function\">getNumbers</span><span class=\"token punctuation\">(</span><span class=\"token number\">41</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">yield</span><span class=\"token operator\">*</span> <span class=\"token function\">getNumbers</span><span class=\"token punctuation\">(</span><span class=\"token number\">61</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> value <span class=\"token keyword\">of</span> <span class=\"token function\">getAllNumbers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>So, here first we create a simple generator <code class=\"language-text\">getNumbers</code> that takes two arguments i.e <code class=\"language-text\">start, end</code> and just loop over that them and on every iteration just yield that value. Then we create another generator <code class=\"language-text\">getAllNumbers</code> this just takes all those </p>","excerpt":"Generators are function that are introduced in ES6 and have ability to pause and play i.e you can return multiple values from the different‚Ä¶","wordCount":{"words":607},"fields":{"slug":"/posts/an-introduction-to-generators/"},"frontmatter":{"title":"An Introduction to Generators","date":"06-07-2019"}},"site":{"siteMetadata":{"siteUrl":"https://praveen-me.github.io","author":"am_pra_veen"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/an-introduction-to-generators/"}}}