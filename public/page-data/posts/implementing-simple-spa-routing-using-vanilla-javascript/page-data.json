{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/implementing-simple-spa-routing-using-vanilla-javascript/","webpackCompilationHash":"2cfa77fcbfd2ded055ba","result":{"data":{"markdownRemark":{"html":"<p><img src=\"https://cdn-images-1.medium.com/max/800/1*mHQDsqWBWs3tBrPz2uZWtA.jpeg\"></p>\n<p>In this article, I am going to implement <strong>SPA</strong> routing using <strong>Vanilla JavaScript</strong>.\nSo, the main motive behind this article to get an understanding of how SPA routing works. Before we get into this we need to understand the main components of routing i.e Web <strong>History</strong> and <strong>Location</strong> API.</p>\n<h2>History and Location Object</h2>\n<p>Let’s first talk about <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History\">window.history</a></strong>. History contains all the browser history you can simply access it by typing <em>history</em> and then you’ll get the whole history object and the variety of method’s it has.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/2346/1*o5aivA_EwWECOOZnq2GYog.png\" alt=\"window’s history object\"><em>window’s history object</em></p>\n<p>And another one that we are going to use is <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Location\">window.location</a>.</strong> It contains all the information about the current location such as origin, pathname, etc. If you type <em>location</em> in your terminal then you got the whole location object.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/2254/1*GHosXKQnj5bwM8x3jo8wKQ.png\" alt=\"window’s location object\"><em>window’s location object</em></p>\n<h2>Let’s start Routing</h2>\n<p>So, first of all, we need to make an <strong>index.html.</strong> It contains all the markup for our app. For this right, we just need to make a div of the *id *of <strong>root</strong>.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/2840/1*gbW54Pe4_GxHFe4hxB0V8w.png\" alt=\"index.html\"><em>index.html</em></p>\n<p>Now, we are done with that make our page. That is going to render in <strong>root</strong> area.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/2840/1*FbzwL2Qa7-_o2CXBgHmTyA.png\" alt=\"Our three different components\"><em>Our three different components</em></p>\n<p>Now, we make our three different pages let’s import them in our index.html’s <strong>head **section. Now we have to use a server to serve these pages so in this I am going to use **live-server</strong>. If you have live-server it’s well and good just go to the folder directory and run live-server otherwise install it using npm i -g live-server.\nNow, it’s time to make our main JavaScript file that contains all our routing logic.\nLet's make a file called app.js.\nThen first we have to decide our routes and page specific to that particular route and put them in an object.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> routes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'/'</span> <span class=\"token punctuation\">:</span> home<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'/contact'</span><span class=\"token punctuation\">:</span> contact<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'/about'</span><span class=\"token punctuation\">:</span> about\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Our next work is to render a page when the index initially loaded. For that first, we have to select the <strong>root</strong> div and then use innerHTML method to add the content to the element according to the path.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> rootDiv <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rootDiv<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> routes<span class=\"token punctuation\">[</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Here <strong>window.location.pathname</strong> will give the current path and when the page is loaded the current path is going to <strong>‘/’</strong>. But our work is not done here yet. Now, we also have to make the route for ‘/about’ and ‘/contact’ page. For that, we are going to create a simple navigation menu.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/3328/1*HRolE_-GnyX2C7o-ye5ZIQ.png\" alt=\"Simple navigation for navigating through sections.\"><em>Simple navigation for navigating through sections.</em></p>\n<p>Now, we are going to make a function that helps us to navigate through section it takes a path and then uses <strong>history.pushState()</strong> method that takes three parameters i.e state, title, and the route to push and to push the current route into history object so we can also navigate through the browser <em>backward</em> and <em>forward</em> button and then render the section according to the current path.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/3160/1*nok3v9iCyS75U1G0dgWHow.png\" alt=\"onNavigate Method\"><em>onNavigate Method</em></p>\n<p>Now, just call this **onNavigate **method on the **onClick **event of our navigation menu’s a tag. We just need to do this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"#\"</span> onclick<span class=\"token operator\">=</span><span class=\"token string\">\"onNavigate('/about'); return false;\"</span><span class=\"token operator\">></span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n    <span class=\"token comment\">// repeat for other routes also.</span></code></pre></div>\n<p>Congrats you just make your own router and when you pressing browser’s forward and backword button you see that the route actually changes but wait for your page is not changing. So, this is because when the browser call’s it’s <strong>pushState()</strong> method than another method is also called i.e <strong>window.onpopstate</strong> it’s a simple function where you can customize it according to your need. So, whenever the pushState is called we are going to render our section. For that all we need to apply this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onpopstate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      rootDiv<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> routes<span class=\"token punctuation\">[</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Congrats you finally have done with it.</p>\n<p>If you want to follow the code. Check out GitHub repo from <a href=\"https://github.com/praveen-me/simple-vanila-router\">here</a>.\nIf you want to connect with me check out my <a href=\"https://twitter.com/am_pra_veen\">Twitter</a> and <a href=\"https://github.com/praveen-me\">Github</a>.</p>","excerpt":"In this article, I am going to implement SPA routing using Vanilla JavaScript.\nSo, the main motive behind this article to get an…","wordCount":{"words":609},"fields":{"slug":"/posts/implementing-simple-spa-routing-using-vanilla-javascript/"},"frontmatter":{"title":"Implementing Simple SPA Routing Using Vanilla JavaScript","date":"1-4-2019"}},"site":{"siteMetadata":{"siteUrl":"https://praveen-me.github.io","author":"am_pra_veen"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/implementing-simple-spa-routing-using-vanilla-javascript/"}}}