{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/redux-thunk-a-simple-action-creator-nothing-more/","webpackCompilationHash":"2cfa77fcbfd2ded055ba","result":{"data":{"markdownRemark":{"html":"<p><img src=\"https://images.unsplash.com/photo-1508522109214-4df07c2e9d90\"></p>\n<p>So, I am going to talk about a really interesting topic i.e <strong>Redux Thunk.</strong> So first, if you are a beginner in redux and want to learn what does actually redux thunk is and why should you use it and by the end of the article you have a good understanding of <strong>Redux Thunk</strong>. So, before moving directly to <strong>redux thunk</strong> let’s just first talk about <strong>Action Creator</strong> in Redux.</p>\n<h2><strong>What is Action Creator?</strong></h2>\n<p>So, In Redux <strong>action</strong> is some kind of event that is triggered on a specific situation. Suppose, the user clicks a button then the user just want to perform some action. So, As you know that according to the paradigm of redux whenever you want to perform some action then you have to dispatch that action. And when you are dispatching that action you can send any kind of data with it. So, action creator is a simple function that takes data and dispatch inside itself. And you can import that action creator and map dispatch function to props using connect higher-order component from <strong>react-redux</strong> package. Then all you need is that just handle that event and call that action creator from props and pass the specified data into it. So, that means action creator only need that data you want to send when going to do everything for you.\nNow, let’s just talk about what is <strong>Redux Thunk</strong>.</p>\n<h2>What is Redux Thunk?</h2>\n<p>So, as I mentioned <strong>redux thunk</strong> is just an action creator with some extra power that helps us to deal with asynchronous calls. So, before you want to use <strong>redux thunk</strong> you have to know what is it actually. <strong>Redux Thunk</strong> is a middleware (middleware is some kind of code that runs b/w two main phases of <strong>redux paradigm</strong> i.e dispatching an action and taking that action to the reducer) that has a functionality of pausing and resuming the dispatch action. So, what is actually does when we dispatch an action creator it just takes data and perform some async call for that time until it gets the <strong>response</strong> it’s pause the dispatching of that action there and if it gets the <strong>response</strong> and then it going to resuming that dispatching that action and then goes to <strong>reducer</strong>.</p>\n<h2><strong>How to use a Redux Thunk?</strong></h2>\n<p>So, if you want to use the <strong>redux thunk</strong> then you have to install a <strong>redux-thunk</strong> package and import <strong>thunk</strong> from it.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">import</span> thunk <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux-thunk\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now you got the redux thunk. Now you have to import <strong>applyMiddlware,</strong> and <strong>compose</strong> from <strong>redux</strong> package.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createStore<span class=\"token punctuation\">,</span> applyMiddleware<span class=\"token punctuation\">,</span> compose <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now you have that. So, go to that file where you created your store and pass <strong>compose</strong> as the second parameter besides the <strong>rootReducer</strong> and inside that call <strong>applyMiddlware</strong> and pass <strong>thunk</strong> inside it.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>rootReducer<span class=\"token punctuation\">,</span> <span class=\"token function\">compose</span><span class=\"token punctuation\">(</span><span class=\"token function\">applyMiddleware</span><span class=\"token punctuation\">(</span>thunk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>So, now you just add thunk to your project and you can create your own <strong>thunk</strong> now. I am here making a simple thunk that helps you to make just a better understanding of <strong>thunk</strong>.\nSo, suppose you want an app where you just gave a Github username and it will give you the whole data when you submit a form.\nSo, let’s just make a simple thunk i.e a function called <strong>setUserData</strong> that takes the only username when the user is submitting a form.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setUserData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">username</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dispatch</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`https://api.github.com/users/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>username<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n             <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>type <span class=\"token punctuation\">:</span> <span class=\"token string\">\"SET_USER_DATA\"</span><span class=\"token punctuation\">,</span> userData <span class=\"token punctuation\">:</span> data<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n             <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>type <span class=\"token punctuation\">:</span> <span class=\"token string\">\"SET_USER_ERR\"</span><span class=\"token punctuation\">,</span> error <span class=\"token punctuation\">:</span> error<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n         <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>So, we just make <strong>thunk</strong> so what it does it takes a username and fetch the <strong>userData</strong> and when it has the response it just resuming the dispatching of action.\nNow, I made this thunk, how can I use this.\nSo, All you need is just you have to import the <strong>thunk</strong> in the component you want to send the data.\nSo, for that, you have to import <strong>connect</strong> higher-order component form <strong>react-redux.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>connect<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">import</span> setUserData <span class=\"token keyword\">from</span> <span class=\"token string\">'./thunk'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Then you have to call it like you want to use store in the component to change the view and you have to make a function that map **dispatch **into props.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">function</span> <span class=\"token function\">mapDispatchToProps</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dispatch</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function-variable function\">setUserData</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">username</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token function\">setUserData</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> mapDispatchToProps<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Form<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>So, now all you need is just call the <strong>setUserData</strong> function from props when you are going to handle that event.\nYou can do like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token function-variable function\">handleSubmit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">const</span> userName <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">;</span>\n       <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">setUserData</span><span class=\"token punctuation\">(</span>userName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>So, this all we need to apply a <strong>Redux Thunk</strong>.</p>\n<h2>Benefits of Using Redux Thunk</h2>\n<p>So, normally an <strong>action creator</strong> is returning an object but in case of <strong>thunk</strong> it returns and function where you can do some asynchronous work and when that work is done then from that function you can return the object by calling dispatch method. <strong>Thunk</strong> is a middleware that means you can perform anything before the action is going to the reducer but it’s ideal for asynchronous work.</p>\n<p>Follow me on <a href=\"https://twitter/am_prav_veen\">twitter</a>.\nFollow me on <a href=\"https://github.com/praveen-me\">Github</a>.</p>","excerpt":"So, I am going to talk about a really interesting topic i.e Redux Thunk. So first, if you are a beginner in redux and want to learn what…","wordCount":{"words":760},"fields":{"slug":"/posts/redux-thunk-a-simple-action-creator-nothing-more/"},"frontmatter":{"title":"Redux Thunk: A Simple Action Creator Nothing More","date":"11-18-2018"}},"site":{"siteMetadata":{"siteUrl":"https://praveen-me.github.io","author":"am_pra_veen"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/redux-thunk-a-simple-action-creator-nothing-more/"}}}